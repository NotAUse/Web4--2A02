<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tuniverse - Célébration du Patrimoine Culturel Tunisien</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Bienvenue sur Tuniverse</h1>
        <nav>
            <a href="#traditions">Traditions</a>
            <a href="#recits">Récits</a>
            <a href="#savoir-faire">Savoir-Faire</a>
            <a href="#meilleures-places">Meilleures Places</a>
            <a href="contact.php">Contact</a>
            <li><a href="choose_role.html">S'inscrire</a></li>
            <a href="profile.html" class="my-account-link">
                <i class="fas fa-user-circle user-icon"></i>
                Mon Compte
            </a>
        </nav>
    </header>

    <main>
        <!-- Traditions Section -->
        <section id="traditions">
            <h2>Les Traditions</h2>
            <p>Découvrez la richesse des traditions tunisiennes.</p>

            <!-- Cuisine Section -->
            <h3>Cuisine Tunisienne</h3>
            <p>La cuisine tunisienne est variée et savoureuse. Ne manquez pas des plats comme le couscous, les bricks, et le tajine tunisien. Cliquez sur le plat pour en savoir plus !</p>
            
            <div class="food-gallery">
                <div class="food-item" onclick="openFoodModal('couscousModal')">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/1/1e/Tunisian_Couscous_%28Couscous_Tunisien%29.jpg" alt="Couscous">
                    <h4>Couscous</h4>
                </div>
                <div class="food-item" onclick="openFoodModal('brikModal')">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/d/d9/Brik_tunisien.jpg" alt="Brik">
                    <h4>Brik</h4>
                </div>
            </div>

            <!-- Festivals Section -->
            <h3>Les Festivals Tunisiens</h3>
            <p>Les festivals tunisiens, comme le Festival de Carthage, mettent en avant la musique, le cinéma et les arts traditionnels.</p>
            
            <div class="festival-gallery">
                <div class="festival-item">
                    <img src="https://www.exploringtunisia.com/wp-content/uploads/2021/06/festival-de-carthage.jpg" alt="Festival de Carthage">
                    <h4>Festival de Carthage</h4>
                    <p>Un festival de musique et de cinéma qui attire des artistes internationaux et locaux.</p>
                </div>
                <div class="festival-item">
                    <img src="https://www.madeintunisia.net/sites/default/files/styles/16_9_960x540/public/2021-11/festival-djerba.jpg" alt="Festival de Djerba">
                    <h4>Festival de Djerba</h4>
                    <p>Un événement culturel majeur célébrant les arts et la musique traditionnelle.</p>
                </div>
            </div>

            <!-- Music and Dance Section -->
            <h3>Musique et Danse Traditionnelles</h3>
            <p>La musique "Mezoued" et la danse "Raqs" sont des expressions culturelles vibrantes du patrimoine tunisien. Écoutez un extrait de musique Mezoued ci-dessous.</p>
            
            <audio controls>
                <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mp3">
                Votre navigateur ne prend pas en charge la lecture de fichiers audio.
            </audio>

            <!-- Arts and Crafts Section -->
            <h3>Arts et Artisanat</h3>
            <p>Les tapis, la poterie, et l'art de la broderie témoignent du savoir-faire unique des artisans tunisiens.</p>

            <div class="craft-gallery">
                <div class="craft-item">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/6/63/Tunisian_handmade_carpet.jpg" alt="Tunisian Carpet">
                    <h4>Tapis Traditionnels</h4>
                </div>
                <div class="craft-item">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/1/1a/Tunisian_Ceramics.jpg" alt="Tunisian Ceramics">
                    <h4>Poterie Tunisienne</h4>
                </div>
            </div>
        </section>

        <title>Liste des Histoires</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
    
            body {
                font-family: 'Arial', sans-serif;
                background-color: #f4f4f4;
                color: #333;
                line-height: 1.6;
                padding: 20px;
            }
    
            .main-container {
                background-color: #fff;
                border: 3px solid #007BFF;
                border-radius: 15px;
                padding: 20px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                max-width: 1000px;
                margin: 0 auto;
            }
    
            h1 {
                text-align: left;
                margin-bottom: 30px;
                color: #007BFF;
                font-size: 2rem;
            }
    
            .histoire-container {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 20px;
                margin-top: 20px;
            }


                        @keyframes pulse {
                0%, 100% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.1);
                }
            }

    
            .histoire {
                background-color: #fff;
                border-radius: 8px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                padding: 20px;
                transition: transform 0.3s ease;
                display: flex;
                flex-direction: column;
                align-items: center;
            }
    
            .histoire:hover {
                transform: scale(1.05);
            }
    
            .histoire img {
                width: 100%;
                height: auto;
                margin-bottom: 10px;
                border-radius: 6px;
            }
    
            .histoire h2 {
                font-size: 1.2rem;
                color: #007BFF;
                margin-bottom: 10px;
                text-align: center;
            }
    
            .histoire p {
                font-size: 1rem;
                color: #555;
                margin-bottom: 15px;
                text-align: center;
            }
    
            .hot-badge {
    color: red;
    font-size: 0.8rem;
    font-weight: bold;
    animation: pulse 1s infinite;
}


    
            .histoire a {
                display: inline-block;
                text-decoration: none;
                background-color: #007BFF;
                color: #fff;
                padding: 10px 20px;
                border-radius: 3px;
                font-weight: bold;
                transition: background-color 0.3s;
            }
    
            .histoire a:hover {
                background-color: #0056b3;
            }

                        img[alt] {
                font-size: 0.8rem; /* Ajuste la taille du texte */
                color: #666; /* Change la couleur du texte */
            }

    
                    /* Style par défaut de l'étoile */
                .star {
                    font-size: 14px; /* Taille de l'étoile (ajuste selon besoin) */
                    color: gray; /* Couleur par défaut */
                    background: none; /* Supprime tout fond coloré */
                    border: none; /* Supprime les bordures */
                    cursor: pointer; /* Curseur interactif */
                }

                /* Couleur de l'étoile lorsqu'elle est active */
                .star.active {
                    color: gold; /* Couleur jaune lorsqu'on clique dessus */
                }
        </style>
    </head>
    <body>
    
    <div class="main-container">
        <h1>Boîte à Histoire</h1>
        <h2>
          
    
        <div class="histoire-container">
            <!-- Story 1 -->
            <div class="histoire" data-id="1">
              
                <h2>7 SBEYA </h2>
                <p>Voici l'histoire de 7 SBEYA, un récit captivant...</p>
                <a href="http://localhost/site/views/Back%20office/increment_vue.php?id=1">Lire plus</a>
                <span class="star">
                    <a href="http://localhost/site/views/Back%20office/add_to_favoris.php?id=1&action=add">&#9733;</a>
                  </span>
            </div>
    
            <!-- Story 2 -->
            <div class="histoire" data-id="2">
                
                <h2>sabat laarousa</h2>
                <p>Un autre récit fascinant de la tradition...</p>
                <a href="http://localhost/site/views/Back%20office/increment_vue.php?id=2">Lire plus</a>
                <span class="star">
                    <a href="http://localhost/site/views/Back%20office/add_to_favoris.php?id=2&action=add">&#9733;</a>
                  </span>
            </div>
    
            <!-- Story 3 -->
            <div class="histoire" data-id="4">
               
                <h2>louiza</h2>
                <p>C'est l'histoire d'Achek Edhab, un personnage marquant...</p>
                <a href="http://localhost/site/views/Back%20office/increment_vue.php?id=4">Lire plus</a>
                <span class="star">
                    <a href="http://localhost/site/views/Back%20office/add_to_favoris.php?id=4&action=add">&#9733;</a>
                  </span>
            </div>
    
            <!-- Story 4 -->
            <div class="histoire" data-id="3">
                
                <h2>Mieux vaut prévenir que guérir</h2>
                <p>Découvrez l'histoire fascinante de la fille du Sultan...</p>
                <a href="http://localhost/site/views/Back%20office/increment_vue.php?id=3">Lire plus</a>
                <span class="star">
                    <a href="http://localhost/site/views/Back%20office/add_to_favoris.php?id=3&action=add">&#9733;</a>
                  </span>
            </div>


            <!-- Story 5 -->
            <div class="histoire" data-id="6">
                
                <h2>tanit</h2>
                <p>Un proverbe qui inspire...</p>
                <a href="http://localhost/site/views/Back%20office/increment_vue.php?id=6">Lire plus</a>
                <span class="star">
                    <a href="http://localhost/site/views/Back%20office/add_to_favoris.php?id=6&action=add">&#9733;</a>
                  </span>
                

            </div>
    
            <!-- Story 6 -->
            <div class="histoire" data-id="5">
                
                <h2>sidi teta</h2>
                <p>Un secret longtemps gardé...</p>
                <a href="http://localhost/site/views/Back%20office/increment_vue.php?id=5">Lire plus</a>
                <span class="star">
                    <a href="http://localhost/site/views/Back%20office/add_to_favoris.php?id=3&action=add">&#9733;</a>
                  </span>
            </div>
        </div>
    </div>
    
    <script>
      function checkViews(histoireId) {
    fetch(`http://localhost/site/views/Back%20office/get_views.php?id=${histoireId}`)
        .then(response => response.text())
        .then(views => {
            if (parseInt(views) > 10) {
                let histoireElement = document.querySelector(`[data-id="${histoireId}"]`);
                if (histoireElement && !histoireElement.querySelector('.hot-badge')) {
                    let hotBadge = document.createElement('span');
                    hotBadge.textContent = "HOT";
                    hotBadge.classList.add('hot-badge'); // Ajout de la classe pour le style
                    histoireElement.appendChild(hotBadge);
                }
            }
        })
        .catch(error => console.error("Erreur lors de la récupération des vues:", error));
}



// Vérifier les vues pour chaque histoire
checkViews(1);
checkViews(2);
checkViews(3);
checkViews(4);
checkViews(5);
checkViews(6);
    


function loadImage(histoireId) {
    fetch('http://localhost/site/images/Back%20office/get_image.php?id=${histoireId}')
        .then(response => response.json())
        .then(data => {
            let histoireElement = document.querySelector('[data-id="${histoireId}"]');
            if (data.images) {
                let imgElement = document.createElement('img');
                imgElement.src = data.images;  // L'image est récupérée et utilisée
                imgElement.alt = 'Histoire Image';
                histoireElement.appendChild(imgElement);
            }
        })
        .catch(error => console.error("Erreur lors de la récupération de l'image:", error));
}

// Charger l'image pour chaque histoire
loadImage(1);
loadImage(2);
loadImage(3);
loadImage(4);
loadImage(5);
loadImage(6);

document.addEventListener("DOMContentLoaded", function() {
    function loadImage(histoireId) {
        fetch(`http://localhost/site/views/Back%20office/get_image.php?id=${histoireId}`)
            .then(response => response.json())
            .then(data => {
                let histoireElement = document.querySelector(`[data-id="${histoireId}"]`);
                if (data.images && data.images !== 'Image non trouvée') {
                    let imgElement = document.createElement('img');
                    imgElement.src = data.images;  // L'image est récupérée et utilisée
                    imgElement.alt = 'Histoire Image';
                    histoireElement.appendChild(imgElement);
                } else {
                    console.error('Image non trouvée');
                }
            })
            .catch(error => console.error("Erreur lors de la récupération de l'image:", error));
    }

    // Charger les images pour chaque histoire dès l'ouverture
    loadImage(1);
    loadImage(2);
    loadImage(3);
    loadImage(4);
    loadImage(5);
    loadImage(6);
});


const stars = document.querySelectorAll(".star");
stars.forEach(star => {
    star.addEventListener("click", function () {
        this.classList.toggle("active"); // Correct: pas de point devant 'active'
    });
});
       
             





    </script>
    
    </body>   

        <!-- Meilleures Places Section -->
        <section id="meilleures-places">
            <h2>Les Meilleures Places à Visiter en Tunisie</h2>
            <!-- Barre de recherche -->
            <input type="text" id="searchInput" onkeyup="filterPlaces()" placeholder="Rechercher un lieu..." />

            <div class="places-container" id="placesContainer">
                <div class="place" onclick="openModal('douggaModal')">
                    <h3>1. Dougga</h3>
                    <img src="https://cdn.generationvoyage.fr/2019/06/dougga-tunisie.jpg" alt="Dougga" />
                    <p>Site archéologique classé au patrimoine mondial de l'UNESCO, Dougga est un incontournable pour les amateurs d'histoire.</p>
                </div>
                <div class="place" onclick="openModal('djerbaModal')">
                    <h3>2. Djerba</h3>
                    <img src="https://cdn.generationvoyage.fr/2019/06/djerba-tunisie.jpg" alt="Djerba" />
                    <p>Connue pour ses plages de sable blanc et ses maisons typiques, Djerba est une destination de rêve.</p>
                </div>
                <div class="place" onclick="openModal('carthageModal')">
                    <h3>3. Carthage</h3>
                    <img src="https://cdn.generationvoyage.fr/2019/06/carthage-tunisie.jpg" alt="Carthage" />
                    <p>Ancienne cité commerciale, Carthage est riche en histoire et en monuments à découvrir.</p>
                </div>
                <div class="place" onclick="openModal('sidiModal')">
                    <h3>4. Sidi Bou Saïd</h3>
                    <img src="https://cdn.generationvoyage.fr/2019/06/sidi-bou-said.jpg" alt="Sidi Bou Saïd" />
                    <p>Ce charmant village est célèbre pour ses maisons blanches et bleues et ses vues imprenables sur la mer.</p>
                </div>
                <div class="place" onclick="openModal('kairouanModal')">
                    <h3>5. Kairouan</h3>
                    <img src="https://cdn.generationvoyage.fr/2019/06/kairouan.jpg" alt="Kairouan" />
                    <p>Kairouan est une ville sainte de l'Islam, connue pour sa grande mosquée et son riche patrimoine culturel.</p>
                </div>
                <div class="place" onclick="openModal ('bizerteModal')">
                    <h3>6. Bizerte</h3>
                    <img src="https://cdn.generationvoyage.fr/2019/06/bizerte-tunisie.jpg" alt="Bizerte" />
                    <p>La ville méditerranéenne de Bizerte est un lieu de rencontre entre culture traditionnelle et modernité.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>© 2024 Tuniverse. Tous droits réservés.</p>
    </footer>

    <!-- Modal for detailed place info -->
    <div id="placeModal" class="modal">
        <span class="close" onclick="closeModal()">×</span>
        <div id="modalContent"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
